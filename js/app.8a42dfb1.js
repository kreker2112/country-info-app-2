(function(){"use strict";var e={5132:function(e,t,n){var a=n(5130),o=n(6768),r=n.p+"img/sun.5f8d3b30.svg",s=n.p+"img/moon.0a506a05.svg",c=n(144);const u={class:"theme-switch-container"},i={key:0,src:r,alt:"Light Theme",class:"theme-icon"},l={key:1,src:s,alt:"Dark Theme",class:"theme-icon"};var d=(0,o.pM)({__name:"ThemeToggleButton",setup(e){const t=(0,c.KR)("dark-theme"===localStorage.getItem("theme")),n=()=>{const e=t.value?"light-theme":"dark-theme";t.value="dark-theme"===e,document.body.className=e,localStorage.setItem("theme",e)};return(0,o.sV)((()=>{const e=localStorage.getItem("theme")||"light-theme";t.value="dark-theme"===e,document.body.className=e})),(e,a)=>((0,o.uX)(),(0,o.CE)("div",u,[(0,o.Lk)("button",{class:"theme-button",title:"Change light mode",onClick:n},[t.value?((0,o.uX)(),(0,o.CE)("img",l)):((0,o.uX)(),(0,o.CE)("img",i))])]))}}),v=n(1241);const p=(0,v.A)(d,[["__scopeId","data-v-fb23f21e"]]);var m=p;const h={class:"navbar"},y={class:"nav-links"};var f=(0,o.pM)({__name:"NavBar",setup(e){return(e,t)=>{const n=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("nav",h,[t[1]||(t[1]=(0,o.Lk)("div",{class:"logo"},"🌍 Country Info",-1)),(0,o.Lk)("div",y,[(0,o.bF)(n,{to:"/",class:"nav-link"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.eW)("Home")]))),_:1}),(0,o.bF)(m)])])}}});const C=(0,v.A)(f,[["__scopeId","data-v-3ab2d526"]]);var g=C;const _={id:"app"};var E=(0,o.pM)({__name:"App",setup(e){return(e,t)=>{const n=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",_,[(0,o.bF)(g),(0,o.Lk)("main",null,[(0,o.bF)(n)])])}}});const k=E;var b=k,w=n(1387),S=n(782),L=(n(4114),n(4232));const A={class:"search-bar"},T={class:"country-list"},I=["onClick"];var O=(0,o.pM)({__name:"SearchBar",setup(e){const t=(0,S.Pj)(),n=(0,w.rd)(),r=(0,c.KR)(""),s=(0,o.EW)((()=>t.state.countries.filter((e=>e.name)).filter((e=>e.name.toLowerCase().includes(r.value.toLowerCase()))))),u=e=>{e&&n.push({name:"Country",params:{name:e}})};return(e,t)=>((0,o.uX)(),(0,o.CE)("div",A,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),placeholder:"Search Input"},null,512),[[a.Jo,r.value]]),(0,o.Lk)("div",T,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.value,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.countryCode,onClick:t=>u(e.countryCode),class:"country-item"},(0,L.v_)(e.name),9,I)))),128))])]))}});const X=(0,v.A)(O,[["__scopeId","data-v-cf9c82ea"]]);var R=X;const D={class:"random-countries-widget"};var F=(0,o.pM)({__name:"RandomCountriesWidget",setup(e){const t=(0,S.Pj)(),n=(0,o.EW)((()=>t.state.randomCountries)),a=e=>{const t=new Date;return e?.filter((e=>new Date(e.date)>t))?.sort(((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()))[0]};return(e,t)=>((0,o.uX)(),(0,o.CE)("div",D,[t[0]||(t[0]=(0,o.Lk)("h2",null,"Random Countries Widget",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.alpha2Code,class:"country-card"},[(0,o.Lk)("h3",null,(0,L.v_)(e.name),1),(0,o.Lk)("p",null," Next Holiday: "+(0,L.v_)(a(e.holidays)?.name||"N/A"),1),(0,o.Lk)("p",null," Date: "+(0,L.v_)(a(e.holidays)?.date||"N/A"),1)])))),128))]))}});const M=(0,v.A)(F,[["__scopeId","data-v-7502462e"]]);var j=M;const N={class:"home"},H={class:"content"},P={class:"left-panel"},Y={class:"right-panel"};var W=(0,o.pM)({__name:"Home",setup(e){const t=(0,S.Pj)();return(0,o.sV)((async()=>{await t.dispatch("fetchCountries"),await t.dispatch("fetchRandomCountries")})),(e,t)=>((0,o.uX)(),(0,o.CE)("div",N,[(0,o.Lk)("div",H,[(0,o.Lk)("div",P,[(0,o.bF)(R)]),(0,o.Lk)("div",Y,[(0,o.bF)(j)])])]))}});const x=(0,v.A)(W,[["__scopeId","data-v-d18d4590"]]);var K=x;const $={class:"country"},U={key:0},B={key:1},V={key:3,class:"year-switcher"},Q=["onClick"];var J=(0,o.pM)({__name:"Country",props:{countryCode:{}},setup(e){const t=e,n=(0,S.Pj)(),a=Array.from({length:11},((e,t)=>2020+t)),r=(0,o.EW)((()=>n.state.holidays)),s=(0,o.EW)((()=>n.state.selectedYear)),u=(0,o.EW)((()=>{const e=n.state.countries.find((e=>e.countryCode===t.countryCode));return e?e.name:t.countryCode})),i=async()=>{n.state.countries.length||(console.log("Fetching countries..."),await n.dispatch("fetchCountries"),console.log("Countries loaded:",n.state.countries))};(0,o.sV)((async()=>{await i(),t.countryCode?n.dispatch("fetchHolidays",{countryCode:t.countryCode,year:s.value}):console.error(`Country code is undefined or incorrect: ${t.countryCode}`)}));const l=e=>{n.commit("SET_SELECTED_YEAR",e),n.dispatch("fetchHolidays",{countryCode:t.countryCode,year:e})};return(e,t)=>((0,o.uX)(),(0,o.CE)("div",$,[u.value?((0,o.uX)(),(0,o.CE)("h1",U,(0,L.v_)(u.value),1)):((0,o.uX)(),(0,o.CE)("div",B,t[0]||(t[0]=[(0,o.Lk)("p",null,"Loading country data...",-1)]))),r.value.length?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:2},(0,o.pI)(r.value,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.date,class:"holiday-item"},[(0,o.Lk)("p",null,[(0,o.Lk)("strong",null,(0,L.v_)(e.name),1)]),(0,o.Lk)("p",null,(0,L.v_)(e.date),1)])))),128)):(0,o.Q3)("",!0),r.value.length?((0,o.uX)(),(0,o.CE)("div",V,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,c.R1)(a),(e=>((0,o.uX)(),(0,o.CE)("button",{key:e,onClick:t=>l(e),class:(0,L.C4)({active:e===s.value})},(0,L.v_)(e),11,Q)))),128))])):(0,o.Q3)("",!0)]))}});const q=(0,v.A)(J,[["__scopeId","data-v-36835922"]]);var z=q;const G=[{path:"/",name:"Home",component:K},{path:"/country/:name",name:"Country",component:z,props:e=>({countryCode:e.params.name})}],Z=(0,w.aE)({history:(0,w.Bt)(),routes:G});var ee=Z,te=n(4373);const ne=(0,S.y$)({state:{countries:[],randomCountries:[],holidays:[],selectedYear:(new Date).getFullYear()},mutations:{SET_COUNTRIES(e,t){e.countries=t},SET_RANDOM_COUNTRIES(e,t){e.randomCountries=t},SET_HOLIDAYS(e,t){e.holidays=t},SET_SELECTED_YEAR(e,t){e.selectedYear=t}},actions:{async fetchCountries({commit:e}){try{const t=await te.A.get("https://date.nager.at/Api/v3/AvailableCountries");e("SET_COUNTRIES",t.data)}catch(t){console.error("Error fetching countries:",t)}},async fetchRandomCountries({commit:e,state:t}){try{const n=await te.A.get("https://date.nager.at/Api/v3/AvailableCountries"),a=n.data.sort((()=>.5-Math.random())).slice(0,3);for(const e of a){const n=await te.A.get(`https://date.nager.at/api/v3/PublicHolidays/${t.selectedYear}/${e.countryCode}`);e.holidays=n.data}e("SET_RANDOM_COUNTRIES",a)}catch(n){console.error("Error fetching random countries and holidays:",n)}},async fetchHolidays({commit:e,state:t},{countryCode:n}){try{const a=await te.A.get(`https://date.nager.at/api/v3/PublicHolidays/${t.selectedYear}/${n}`);e("SET_HOLIDAYS",a.data)}catch(a){console.error("Error fetching holidays:",a)}}}});var ae=ne;(0,a.Ef)(b).use(ee).use(ae).mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,r){if(!a){var s=1/0;for(l=0;l<e.length;l++){a=e[l][0],o=e[l][1],r=e[l][2];for(var c=!0,u=0;u<a.length;u++)(!1&r||s>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[u])}))?a.splice(u--,1):(c=!1,r<s&&(s=r));if(c){e.splice(l--,1);var i=o();void 0!==i&&(t=i)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[a,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/country-info-app/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,r,s=a[0],c=a[1],u=a[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(u)var l=u(n)}for(t&&t(a);i<s.length;i++)r=s[i],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(l)},a=self["webpackChunkcountry_info_app_2"]=self["webpackChunkcountry_info_app_2"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(5132)}));a=n.O(a)})();
//# sourceMappingURL=app.8a42dfb1.js.map